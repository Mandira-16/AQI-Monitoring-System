@{
    ViewData["Title"] = "Home";
}

<!--Map Leaflet CSS file-->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin="" />

<div id="map-container">
    <div id="map"></div>
</div>

<div class="content mt-4">
    <h2>AQI Levels</h2>
    <table id="aqi-table">
        <thead>
        <tr>
            <th>AQI Level</th>
            <th>AQI Range</th>
            <th>Color Code</th>
            <th>Health Effects</th>
            
        </tr>
        </thead>
        <tbody>
        <tr class="good">
            <td>Good</td>
            <td>0 - 50</td>
            <td>🟢 Green</td>
            <td>Air quality is satisfactory, and poses little or no risk.</td>
            
        </tr>
        <tr>
            <td>Moderate</td>
            <td>51 - 100</td>
            <td>🟡 Yellow</td>
            <td>Acceptable air quality; some pollutants may affect sensitive individuals.</td>
        </tr>
        <tr>
            <td>Unhealthy for Sensitive Groups</td>
            <td>101 - 150</td>
            <td>🟠 Orange</td>
            <td>Children, elderly, and people with respiratory conditions may experience health effects.</td>
        </tr>
        <tr>
            <td>Unhealthy</td>
            <td>151 - 200</td>
            <td>🔴 Red</td>
            <td>Everyone may begin to experience adverse health effects.</td>
        </tr>
        <tr>
            <td>Very Unhealthy</td>
            <td>201 - 300</td>
            <td>🟣 Purple</td>
            <td>Increased health risks for everyone; emergency conditions for sensitive individuals.</td>
        </tr>
        <tr>
            <td>Hazardous</td>
            <td>301 - 500</td>
            <td>🟤 Maroon</td>
            <td>Serious health effects; public health warnings of emergency conditions.</td>
        </tr>
        </tbody>
    </table>
</div>

@section Scripts {
    <!--Leaflet JavaScript File-->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
            crossorigin=""></script>

    <script>
        // Initialize the map
        var map = L.map('map').setView([20, 0], 3);

        // Add the OpenStreetMap tile layer
        L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        }).addTo(map);

        // Fetch and display AQI data
        fetch('https://api.waqi.info/feed/here/?token=YOUR_API_KEY')
            .then(response => response.json())
            .then(data => console.log(data));
    </script>
    
}